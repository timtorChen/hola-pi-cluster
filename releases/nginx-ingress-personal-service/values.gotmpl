controller:
  extraArgs:
    default-ssl-certificate: {{ .Values.nginx.defaultCert }}
    ingress-class: {{ .Values.nginx.personal.className }}

  #* ISSUE: if loadBalancerIP is set, publishService should be `true`
  #*        two config seems binding together and can be simplified.
  publishService:
    enabled: true
  service:
    loadBalancerIP: {{ .Values.nginx.personal.exportIP }}
    annotations:
      metallb.universe.tf/allow-shared-ip: {{ .Values.nginx.personal.exportIP }}
  autoscaling:
    enabled: true

defaultBackend:
  enabled: false